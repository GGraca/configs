;=====================================================
;
;   To learn more about how to configure Polybar
;   go to https://github.com/jaagr/polybar
;
;   The README contains alot of information
;
;=====================================================

[colors]
background = #2e3436
background-alt = #333745
foreground = #DAEDE2
foreground-alt = #EA2E49
primary = #77C4D3
secondary = #F6F792
alert = #EA2E49
transparent = #CC000000
good = #00FF00

[bar/main]
monitor = eDP1
bottom = false
width = 100%
height = 35
offset-x = 0
offset-y = 0

background = ${colors.background}
foreground = ${colors.foreground}

underline-size = 3

spacing = 1
padding-left = 2
padding-right = 2
module-margin-left = 1
module-margin-right = 1

font-0 = RobotoMono:pixelsize=15
font-1 = FontAwesome:pixelsize=15

fixed-center = true

tray-position = left
modules-center = i3
modules-right = packages-ok packages-warning wlan volume battery date

[bar/tray]
monitor = eDP1
bottom = false
width = 100%
fixed-center = true
override-redirect = true
border-left-size = 800
border-right-size = 800

height = 35

background = ${colors.background}
foreground = ${colors.foreground}

modules-center = none
tray-position = center


[bar/secondary]
monitor = DP1
bottom = false
width = 100%
height = 35
offset-x = 0
offset-y = 0

background = ${colors.background}
foreground = ${colors.foreground}

underline-size = 3

spacing = 1
padding-left = 0
padding-right = 2
module-margin-left = 1
module-margin-right = 2

font-0 = RobotoMono:pixelsize=15
font-1 = FontAwesome:pixelsize=22

modules-left = 
modules-center = i3
modules-right = temp0 temp1 temp2 temp3


[module/i3]
type = internal/i3
format = <label-state> <label-mode>
index-sort = true
wrapping-scroll = false
pin-workspaces = true

label-mode-foreground = #000
label-mode-background = ${colors.primary}
label-mode-padding = 2

label-focused = %index%
label-focused-background = ${colors.background-alt}
label-focused-underline= ${colors.primary}
label-focused-padding = 2

label-unfocused = %index%
label-unfocused-padding = 2

label-urgent = %index%!
label-urgent-background = ${colors.alert}
label-urgent-padding = 2

label-visible = %index%
label-visible-background = ${colors.background-alt}
label-visible-underline = ${colors.primary}
label-visible-padding = 2


[module/wlan]
type = internal/network
interface = wlp5s0
interval = 1.0

format-connected = "   <label-connected>  "
format-connected-underline = ${colors.good}
format-disconnected-underline = ${self.format-connected-underline}

label-connected = %essid%
label-disconnected = " wireless disconnected "
label-disconnected-foreground = ${colors.foreground-alt}


[module/date]
type = internal/date
interval = 1

time = " %H:%M"
date-alt = " %d/%m/%Y"

format-prefix-foreground = ${colors.foreground-alt}
format-underline = ${colors.primary}

label = " %time%%date% "


[module/volume]
type = internal/volume

format-volume = " <ramp-volume> <label-volume> "
label-volume = "%percentage% "
ramp-volume-0 = "  "
ramp-volume-1 = " "
label-volume-foreground = ${colors.foreground}
format-volume-underline = ${colors.primary}

label-muted = "  muted "
label-muted-foreground = ${colors.foreground}
format-muted-underline = ${colors.alert}


[module/battery]
type = internal/battery
battery = BAT1
adapter = ADP1
full-at = 96

format-full = <ramp-capacity> <label-full>
format-charging = <animation-charging> <label-charging>
format-discharging = <ramp-capacity> <label-discharging>

format-full-underline = ${colors.good}
format-charging-underline = ${colors.secondary}
format-discharging-underline = ${colors.secondary}

label-full = "%percentage%% "
label-charging = "%percentage%% "
label-discharging = "%percentage%% "

ramp-capacity-0 = " "
ramp-capacity-0-foreground = ${colors.alert}
ramp-capacity-1 = " "
ramp-capacity-1-foreground = ${colors.alert}
ramp-capacity-2 = " "
ramp-capacity-3 = " "
ramp-capacity-4 = " "
ramp-capacity-foreground = ${colors.foreground}

animation-charging-0 = " "
animation-charging-1 = " "
animation-charging-2 = " "
animation-charging-3 = " "
animation-charging-4 = " "
animation-charging-foreground = ${colors.foreground}
animation-charging-framerate = 750


[module/temp]
type = internal/temperature
warn-temperature = 60
label = " %temperature-c% "
format-underline = ${colors.primary}
label-warn = " %temperature-c% "
label-warn-underline = ${colors.alert}

[module/temp0]
inherit = module/temp
thermal-zone = 0

[module/temp1]
inherit = module/temp
thermal-zone = 1

[module/temp2]
inherit = module/temp
thermal-zone = 2

[module/temp3]
inherit = module/temp
thermal-zone = 3

[module/notifications]
type = custom/script
exec = "python2 ~/Workspaces/configs/scripts/yanotify/yanotify.py"
tail = true

[module/packages]
type = custom/script
label = "  %output% "
exec = "sudo ~/Workspaces/configs/scripts/available_packages.sh"
tail = false
interval = 21600

[module/packages-ok]
inherit = module/packages
exec-if = test $(sudo ~/Workspaces/configs/scripts/available_packages.sh) -gt 0 && test $(sudo ~/Workspaces/configs/scripts/available_packages.sh) -lt 100
format-underline = ${colors.primary}

[module/packages-warning]
inherit = module/packages
exec-if = test $(sudo ~/Workspaces/configs/scripts/available_packages.sh) -gt 99
format-underline = ${colors.alert}

[module/none]
type = custom/script
exec = "echo ..."
tail = false

[module/toggl]
type = custom/script
label = ""
exec = ""
tail = true